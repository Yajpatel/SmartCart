{% extends 'base.html' %}
{% load static %}

{% block title %}Product Detail{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'product_detail.css' %}">
{% endblock %}

{% block content %}
<main class="content">
    {% if product %}
        <div class="detail-container">
            <div class="product-detail-card-single">
                <div class="image-column">
                    <img src="{{ product.image_url }}" alt="{{ product.title }}" class="detail-image">
                </div>
                <div class="info-column">
                    <h2 class="detail-title">{{ product.title }}</h2>
                    <p class="detail-price">{{ product.price|default:"Price not available" }}</p>
                    <a href="{{ product.source_url }}" target="_blank" class="buy-button {% if product.source == 'Amazon' %}buy-amazon{% else %}buy-snapdeal{% endif %}">
                        Buy on {{ product.source }}
                    </a>
                    {% if product.about_points %}
                    <div class="about-section">
                        <h3>About this item:</h3>
                        <ul>
                            {% for point in product.about_points %}
                            <li>{{ point }}</li>
                            {% endfor %}
                        </ul>
                    </div>
                    {% endif %}
                </div>
            </div>
        </div>

    {% elif error %}
        <div class="error-message">
            <h2>Error</h2>
            <p>{{ error }}</p>
            <a href="{% url 'home' %}">Return to Home</a>
        </div>
    {% else %}
        <div class="loading-message">
            <p>Loading product details, please wait...</p>
        </div>
    {% endif %}
</main>
{% endblock %}